{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../../core/services/project.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../../../core/services/toast.service\";\nexport class ProjectFormComponent {\n  constructor(fb, ps, route, router, toast) {\n    this.fb = fb;\n    this.ps = ps;\n    this.route = route;\n    this.router = router;\n    this.toast = toast;\n    this.f = this.fb.group({\n      name: [''],\n      description: ['']\n    });\n    this.isEdit = false;\n    this.id = null;\n    const id = this.route.snapshot.params['id'];\n    if (id) {\n      this.isEdit = true;\n      this.id = +id;\n      this.ps.get(+id).subscribe(p => {\n        if (p) this.f.patchValue(p);\n      });\n    }\n  }\n  save() {\n    if (this.isEdit && this.id) {\n      this.ps.update(this.id, this.f.value).subscribe(() => {\n        this.toast.push('Updated');\n        this.router.navigate(['/projects']);\n      });\n    } else {\n      this.ps.add(this.f.value).subscribe(() => {\n        this.toast.push('Created');\n        this.router.navigate(['/projects']);\n      });\n    }\n  }\n  static {\n    this.ɵfac = function ProjectFormComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ProjectFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ProjectService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProjectFormComponent,\n      selectors: [[\"app-project-form\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 11,\n      vars: 3,\n      consts: [[1, \"card\", \"max-w-lg\", \"mx-auto\"], [1, \"text-lg\", \"font-bold\", \"mb-2\"], [3, \"ngSubmit\", \"formGroup\"], [1, \"mb-2\"], [\"formControlName\", \"name\", \"placeholder\", \"Name\", 1, \"w-full\", \"p-2\", \"border\", \"rounded\"], [\"formControlName\", \"description\", \"placeholder\", \"Description\", 1, \"w-full\", \"p-2\", \"border\", \"rounded\"], [1, \"px-3\", \"py-1\", \"bg-blue-600\", \"text-white\", \"rounded\"]],\n      template: function ProjectFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n          i0.ɵɵtext(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function ProjectFormComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.save();\n          });\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵelement(5, \"input\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 3);\n          i0.ɵɵelement(7, \"textarea\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\")(9, \"button\", 6);\n          i0.ɵɵtext(10);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"\", ctx.isEdit ? \"Edit\" : \"New\", \" Project\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"formGroup\", ctx.f);\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(ctx.isEdit ? \"Update\" : \"Create\");\n        }\n      },\n      dependencies: [CommonModule, ReactiveFormsModule, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","ReactiveFormsModule","ProjectFormComponent","constructor","fb","ps","route","router","toast","f","group","name","description","isEdit","id","snapshot","params","get","subscribe","p","patchValue","save","update","value","push","navigate","add","i0","ɵɵdirectiveInject","i1","FormBuilder","i2","ProjectService","i3","ActivatedRoute","Router","i4","ToastService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProjectFormComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProjectFormComponent_Template_form_ngSubmit_3_listener","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty","ɵɵtextInterpolate","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","encapsulation"],"sources":["/home/subramanyahegade/Downloads/task-dashboard/src/app/features/projects/project-form/project-form.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, ReactiveFormsModule } from '@angular/forms';\nimport { ProjectService } from '../../../core/services/project.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastService } from '../../../core/services/toast.service';\n\n@Component({\n  selector: 'app-project-form',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  template: `\n    <div class=\"card max-w-lg mx-auto\">\n      <h3 class=\"text-lg font-bold mb-2\">{{isEdit ? 'Edit' : 'New'}} Project</h3>\n      <form [formGroup]=\"f\" (ngSubmit)=\"save()\">\n        <div class=\"mb-2\"><input formControlName=\"name\" placeholder=\"Name\" class=\"w-full p-2 border rounded\" /></div>\n        <div class=\"mb-2\"><textarea formControlName=\"description\" placeholder=\"Description\" class=\"w-full p-2 border rounded\"></textarea></div>\n        <div><button class=\"px-3 py-1 bg-blue-600 text-white rounded\">{{isEdit ? 'Update' : 'Create'}}</button></div>\n      </form>\n    </div>\n  `\n})\nexport class ProjectFormComponent {\n  f = this.fb.group({ name:[''], description:[''] });\n  isEdit = false;\n  id: number|null = null;\n  constructor(private fb: FormBuilder, private ps: ProjectService, private route: ActivatedRoute, private router: Router, private toast: ToastService){\n    const id = this.route.snapshot.params['id'];\n    if(id){ this.isEdit = true; this.id = +id; this.ps.get(+id).subscribe(p => { if(p) this.f.patchValue(p); }); }\n  }\n  save(){\n    if(this.isEdit && this.id){ this.ps.update(this.id, this.f.value).subscribe(()=>{ this.toast.push('Updated'); this.router.navigate(['/projects']); }); }\n    else { this.ps.add(this.f.value).subscribe(()=>{ this.toast.push('Created'); this.router.navigate(['/projects']); }); }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}