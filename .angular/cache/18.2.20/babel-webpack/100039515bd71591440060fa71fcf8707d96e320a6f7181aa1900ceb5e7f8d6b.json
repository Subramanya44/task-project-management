{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { PaginationComponent } from '../../../shared/components/pagination/pagination.component';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/project.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../core/services/toast.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ProjectListComponent_li_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 9)(1, \"div\")(2, \"div\", 10);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 12)(7, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProjectListComponent_li_10_Template_button_click_7_listener() {\n      const p_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.edit(p_r2.id));\n    });\n    i0.ɵɵtext(8, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProjectListComponent_li_10_Template_button_click_9_listener() {\n      const p_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.remove(p_r2.id));\n    });\n    i0.ɵɵtext(10, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.description);\n  }\n}\nexport class ProjectListComponent {\n  constructor(ps, router, toast) {\n    this.ps = ps;\n    this.router = router;\n    this.toast = toast;\n    this.data = [];\n    this.all = [];\n    this.q = '';\n    this.page = 1;\n    this.pageSize = 5;\n    this.total = 0;\n    this.load();\n  }\n  load() {\n    this.ps.list().subscribe(d => {\n      this.all = d;\n      this.total = d.length;\n      this.apply();\n    });\n  }\n  apply() {\n    const filtered = this.all.filter(p => p.name.toLowerCase().includes(this.q.toLowerCase()));\n    this.data = filtered.slice((this.page - 1) * this.pageSize, this.page * this.pageSize);\n    this.total = filtered.length;\n  }\n  search() {\n    this.page = 1;\n    this.apply();\n  }\n  onPage(p) {\n    this.page = p;\n    this.apply();\n  }\n  add() {\n    this.router.navigate(['/projects/new']);\n  }\n  edit(id) {\n    this.router.navigate(['/projects/edit', id]);\n  }\n  remove(id) {\n    if (confirm('Delete?')) {\n      this.ps.delete(id).subscribe(() => {\n        this.toast.push('Deleted');\n        this.load();\n      });\n    }\n  }\n  static {\n    this.ɵfac = function ProjectListComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ProjectListComponent)(i0.ɵɵdirectiveInject(i1.ProjectService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProjectListComponent,\n      selectors: [[\"app-project-list\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 13,\n      vars: 4,\n      consts: [[1, \"card\"], [1, \"flex\", \"justify-between\", \"items-center\", \"mb-3\"], [1, \"text-lg\", \"font-bold\"], [1, \"px-3\", \"py-1\", \"bg-green-600\", \"text-white\", \"rounded\", 3, \"click\"], [1, \"mb-3\"], [\"placeholder\", \"Search\", 1, \"w-full\", \"p-2\", \"border\", \"rounded\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"class\", \"border-b py-2 flex justify-between items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"mt-3\"], [3, \"pageChange\", \"totalItems\", \"itemsPerPage\"], [1, \"border-b\", \"py-2\", \"flex\", \"justify-between\", \"items-center\"], [1, \"font-semibold\"], [1, \"text-sm\", \"text-gray-500\"], [1, \"space-x-2\"], [1, \"px-2\", \"py-1\", \"border\", \"rounded\", 3, \"click\"]],\n      template: function ProjectListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n          i0.ɵɵtext(3, \"Projects\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\")(5, \"button\", 3);\n          i0.ɵɵlistener(\"click\", function ProjectListComponent_Template_button_click_5_listener() {\n            return ctx.add();\n          });\n          i0.ɵɵtext(6, \"New\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(7, \"div\", 4)(8, \"input\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProjectListComponent_Template_input_ngModelChange_8_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.q, $event) || (ctx.q = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"input\", function ProjectListComponent_Template_input_input_8_listener() {\n            return ctx.search();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(9, \"ul\");\n          i0.ɵɵtemplate(10, ProjectListComponent_li_10_Template, 11, 2, \"li\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 7)(12, \"app-pagination\", 8);\n          i0.ɵɵlistener(\"pageChange\", function ProjectListComponent_Template_app_pagination_pageChange_12_listener($event) {\n            return ctx.onPage($event);\n          });\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.q);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngForOf\", ctx.data);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"totalItems\", ctx.total)(\"itemsPerPage\", ctx.pageSize);\n        }\n      },\n      dependencies: [CommonModule, i4.NgForOf, PaginationComponent, FormsModule, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","PaginationComponent","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProjectListComponent_li_10_Template_button_click_7_listener","p_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","edit","id","ProjectListComponent_li_10_Template_button_click_9_listener","remove","ɵɵadvance","ɵɵtextInterpolate","name","description","ProjectListComponent","constructor","ps","router","toast","data","all","q","page","pageSize","total","load","list","subscribe","d","length","apply","filtered","filter","p","toLowerCase","includes","slice","search","onPage","add","navigate","confirm","delete","push","ɵɵdirectiveInject","i1","ProjectService","i2","Router","i3","ToastService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProjectListComponent_Template","rf","ctx","ProjectListComponent_Template_button_click_5_listener","ɵɵtwoWayListener","ProjectListComponent_Template_input_ngModelChange_8_listener","$event","ɵɵtwoWayBindingSet","ProjectListComponent_Template_input_input_8_listener","ɵɵtemplate","ProjectListComponent_li_10_Template","ProjectListComponent_Template_app_pagination_pageChange_12_listener","ɵɵtwoWayProperty","ɵɵproperty","i4","NgForOf","i5","DefaultValueAccessor","NgControlStatus","NgModel","encapsulation"],"sources":["/home/subramanyahegade/Downloads/task-dashboard/src/app/features/projects/project-list/project-list.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProjectService } from '../../../core/services/project.service';\nimport { Router } from '@angular/router';\nimport { PaginationComponent } from '../../../shared/components/pagination/pagination.component';\nimport { ToastService } from '../../../core/services/toast.service';\nimport { FormsModule } from '@angular/forms';\n@Component({\n  selector: 'app-project-list',\n  standalone: true,\n  imports: [CommonModule, PaginationComponent, FormsModule],\n  template: `\n    <div class=\"card\">\n      <div class=\"flex justify-between items-center mb-3\">\n        <h3 class=\"text-lg font-bold\">Projects</h3>\n        <div><button (click)=\"add()\" class=\"px-3 py-1 bg-green-600 text-white rounded\">New</button></div>\n      </div>\n      <div class=\"mb-3\"><input [(ngModel)]=\"q\" placeholder=\"Search\" class=\"w-full p-2 border rounded\" (input)=\"search()\" /></div>\n      <ul>\n        <li *ngFor=\"let p of data\" class=\"border-b py-2 flex justify-between items-center\">\n          <div>\n            <div class=\"font-semibold\">{{p.name}}</div>\n            <div class=\"text-sm text-gray-500\">{{p.description}}</div>\n          </div>\n          <div class=\"space-x-2\">\n            <button (click)=\"edit(p.id)\" class=\"px-2 py-1 border rounded\">Edit</button>\n            <button (click)=\"remove(p.id)\" class=\"px-2 py-1 border rounded\">Delete</button>\n          </div>\n        </li>\n      </ul>\n      <div class=\"mt-3\"><app-pagination [totalItems]=\"total\" [itemsPerPage]=\"pageSize\" (pageChange)=\"onPage($event)\"></app-pagination></div>\n    </div>\n  `\n})\nexport class ProjectListComponent {\n  data:any[] = [];\n  all:any[] = [];\n  q = '';\n  page = 1;\n  pageSize = 5;\n  total = 0;\n  constructor(private ps: ProjectService, private router: Router, private toast: ToastService){\n    this.load();\n  }\n  load(){\n    this.ps.list().subscribe(d => { this.all = d; this.total = d.length; this.apply(); });\n  }\n  apply(){\n    const filtered = this.all.filter(p => p.name.toLowerCase().includes(this.q.toLowerCase()));\n    this.data = filtered.slice((this.page-1)*this.pageSize, this.page*this.pageSize);\n    this.total = filtered.length;\n  }\n  search(){ this.page = 1; this.apply(); }\n  onPage(p:number){ this.page = p; this.apply(); }\n  add(){ this.router.navigate(['/projects/new']); }\n  edit(id:number){ this.router.navigate(['/projects/edit', id]); }\n  remove(id:number){ if(confirm('Delete?')){ this.ps.delete(id).subscribe(()=>{ this.toast.push('Deleted'); this.load(); }); } }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}